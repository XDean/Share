# Git进阶

## 概念

### Remote branch and tracking branch 远程分支和追踪分支

### Ref and reflog 引用和引用日志

引用是指向commit tree上的指针，一般有一下几种形式

- `HEAD`，即当前指针，一般指向当前分支
- `<branch>`，分支
- `<tag>`，标签

### Revision and Range 版本和版本区间

完整manual: `git help gitrevisions`

| Revision | 用法 | 示例 |
|---|---|--- |
| `<commit id>` | commit的SHA-1值，可以是完整的值，也可以是唯一前缀 | `dae86e1950b1277e545cee180551750029cfe735`, `dae86e` |
| `<ref>`  | 引用名称 | `HEAD`, `origin/master`|
| `<ref>@{<n>}` | 引用本地操作日志，可以使用`git reflog <rev>`查看 | `HEAD@{1}`|
| `<branch>@{upstream}` | Branch对应的远程分支，可以简写为`u` | `master@{u}` |
| `<rev>^<n>` | 版本的第N个父节点，若N=0则指向自己，N可省略默认为1 | `master^`, `HEAD^3` |
| `<rev>~<n>` | 版本的第N代父节点，仅跟随第一个父节点，即`~3=^^^` | `master~3` |

| Range | 用法 | 示例 |
|---|---|--- |
| `<rev>` | 包含改rev及所有祖先 | `HEAD` |
| `^<rev>` | 除外改版本及所有祖先 | `^HEAD~3` |
| `<rev1>..<rev2>` | 包含rev2及所有祖先，但排除rev1及所有祖先，可以理解为差集`rev2 \ rev1` | `HEAD~3..HEAD` |
| `<rev1>...<rev2>` | 包含仅被rev1和rev2及他们的所有祖先，但排除共同祖先，可以理解为差集之并`rev1 \ rev2 ∪ rev2 \ rev1` | `master..feature-branch` |

## Git案例

### 如何revert一个commit

### 我必须要在网页上创建分支么

### 提交的内容有误，想要修改怎么办

### `origin`是一个分支么，为什么可以作为`revision`使用

### Merge分支后status里有很多文件修改怎么办

### 我能不能在master分支commit/push

### 远程分支被动过了导致push/pull失败怎么办 (@ddeng)

### 如何找到指定文件区间内修改 (@fyin)

### 如何一条命令删除